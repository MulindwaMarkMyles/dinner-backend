{% extends 'admin_base.html' %}

{% block title %}Meal Logs{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
	<h1 class="h2 mb-0">Meal Logs</h1>
	<span class="badge bg-dark">{{ meal_logs|length }} entries</span>
</div>

<div class="card">
	<div class="card-body p-0">
		<div class="table-responsive">
			<table class="table table-hover mb-0">
				<thead>
					<tr>
						<th>User</th>
						<th>Meal Type</th>
						<th>Serving Point</th>
						<th>Consumed At</th>
					</tr>
				</thead>
				<tbody>
					{% for log in meal_logs %}
					<tr>
						<td>{{ log.user.full_name }}</td>
						<td>
							{% if log.meal_type == 'lunch' %}
							<span class="badge bg-success">{{ log.get_meal_type_display }}</span>
							{% elif log.meal_type == 'dinner' %}
							<span class="badge bg-primary">{{ log.get_meal_type_display }}</span>
							{% else %}
							<span class="badge bg-info">{{ log.get_meal_type_display }}</span>
							{% endif %}
						</td>
						<td>{{ log.serving_point|default:"N/A" }}</td>
						<td>{{ log.consumed_at|date:"M d, Y H:i" }}</td>
					</tr>
					{% empty %}
					<tr><td colspan="4" class="text-center text-muted py-4">No meal logs found</td></tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
</div>
{% endblock %}
